<!--定义util.getTime来获取时间-->
<wxs module="util">
  var getTime = function(date) {
    return date.substring(11, 16)
  }
  module.exports.getTime = getTime;
</wxs>

<view class="nav-bar">
  <view 
    class='news-type'
    wx:for="{{newsType}}"
    wx:key="{{item.type}}"
    data-type="{{item.type}}"
    bindtap='onTapNewsType'
  >
    {{item.name}}
  </view>
</view>

<block class="news-list" wx:for="{{newsList}}" wx:key="{{item.id}}">
  <view class="news-item" bindtap='onTapNewsList'>
    <view class="news-text">
      <view class="title">{{item.title}}</view>
      <view class="source-and-date">
        <view class="source">{{item.source ? item.source : "未知来源"}}</view>
        <view class="date">{{util.getTime(item.date)}}</view>
      </view>
    </view>
    <image
      wx:if="{{item.firstImage}}"
      class="first-image"
      src="{{item.firstImage}}"
      mode="aspectFill" 
    />
    <image
      wx:else
      class="first-image"
      src="/images/img_not_available.png"
      mode="aspectFill" 
    />
  </view>
</block>